

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Cheech's Pizza</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link href="./Cheech-s-Pizza-3/css/uikit-rtl.css" rel="stylesheet" />
    <link href="./Cheech-s-Pizza-3/css/uikit-rtl.min.css" rel="stylesheet" />
    <link href="./Cheech-s-Pizza-3/css/uikit.css" rel="stylesheet" />
    <link href="./Cheech-s-Pizza-3/css/uikit.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="./Cheech-s-Pizza-3/css/styles.css" />
</head>

<body>
    <div class="top">Welcome to Cheech's Pizza!</div>
    <div class="sticky">

        <ul class="nav justify-content-center">
            <div class="leftalign">
                <img src="./Cheech-s-Pizza-3/Images/pizza.png" alt="" />
            </div>
            <li class="nav-item">
                <a class="nav-link active" href="index.html">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Contact</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">About Us</a>
            </li>
        </ul>

    </div>
    <div style="text-align: center">

    </div>
    <div class="centerM">
        <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1" uk-slideshow="animation: fade">

            <ul class="uk-slideshow-items">
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/cheesepizza.jpg" alt="" uk-cover>
                </li>
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/sausagepizza.png" alt="" uk-cover>
                </li>
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/meatloverspizza.jpg" alt="" uk-cover>
                </li>
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/crunchaton.jpg" alt="" uk-cover>
                </li>
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/pepperonipizza.jpg" alt="" uk-cover>
                </li>
                <li>
                    <img src="./Cheech-s-Pizza-3/Images/cheese.jpg" alt="" uk-cover>
                </li>

            </ul>

            <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous
                uk-slideshow-item="previous"></a>
            <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next
                uk-slideshow-item="next"></a>


        </div>
    </div>
    <div id="container">
        <div id="menu">
            <h1 id="header">Menu</h1>

            <div class="menu">
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/cheesepizza.jpg" alt="" id="cheese">
                    <h3>Classic Cheese $4.50</h3>
                    <p>Our 12-inch special-recipe pizza, featuring our traditional crispy crust, is topped with a blend
                        of mozzarella, cheddar, provolone and aged Parmesan cheeses and a rich tomato sauce. No
                        artificial flavors. Made with 100% real cheese</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/sausagepizza.png" alt="" id="sausage">
                    <h3>Classic Sausage $5.99</h3>
                    <p>It gets topped with loads of spicy sausage, sweet peppers, onions, chili oil, crushed red
                        pepper, and mozzarella cheese. It just may be the best spicy pizza out there!</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/meatloverspizza.jpg" alt="" id="meatlover">
                    <h3>Meatlovers $10.99</h3>
                    <p>Warning: the following pizza is neither low-calorie nor low-fat. But filled with meat on meat on
                        more meat
                        . If and when you want to indulge
                        all of your most guilty pleasures — this is the layer on the meat!</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/crunchaton.jpg" alt="" id="crunchaton">
                    <h3>Crunchaton $15.95</h3>
                    <p>The Crunchaton has a layer of the signature chips on the crust. Melted cheddar and mozzarella
                        act as glue to mold the Doritos onto the pizza. The crust is stuffed with the mozzarella cheese
                        and the cheddar is sprinkled over the edge of it after the corn chip pieces have been arranged.</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/pepperonipizza.jpg" alt="" id="pepperoni">
                    <h3>Classic Pepperoni $5.99</h3>
                    <p>Our 12-inch special-recipe pizza, featuring our traditional crispy crust, is topped with a blend
                        of mozzarella and cheddar cheese, zesty pepperoni slices and a rich tomato sauce. The Pepperoni
                        Pizza you're used to
                        eating but better!</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>
                <div class="menuItem">
                    <img src="./Cheech-s-Pizza-3/Images/cheese.jpg" alt="" id="newpizza">
                    <h3>Tacomachorizza $15.95</h3>
                    <p>Who needs a taco shell when you can have our hand-tossed original crust? Topped with double
                        beef, fresh-sliced onions,
                        diced tomatoes, shredded lettuce, cheddar and real cheese made from mozzarella, nacho cheese
                        corn chips on taco sauce
                        and refried beans. Served with a side of taco sauce and sour cream packets.</p>
                    <div class="centerC">
                        <button class="addCart">Add to Cart</button>
                    </div>

                </div>

            </div>
        </div>
        <main>
            <!-- <div class="container-fluid">
                    <h3>Classic Cheese</h3>
                    <p>Our 12-inch special-recipe pizza, featuring our traditional crispy crust, is topped with a blend
                        of mozzarella, cheddar, provolone and aged Parmesan cheeses and a rich tomato sauce. No
                        artificial flavors. Made with 100% real cheese</p>

                    <h3>Crunchaton</h3>
                    <p>The Crunchaton has a layer of the signature chips on the crust. Melted cheddar and mozzarella
                        act as glue to mold the Doritos onto the pizza. The crust is stuffed with the mozzarella cheese
                        and the cheddar is sprinkled over the edge of it after the corn chip pieces have been arranged.</p>

                    <h3>Meat Lover</h3>
                    <p>Warning: the following pizza is neither low-calorie nor low-fat. But when you want to indulge
                        all of your most guilty pleasures — layer on the meat!</p>

                    <h3>Classic Pepperoni</h3>
                    <p>Our 12-inch special-recipe pizza, featuring our traditional crispy crust, is topped with a blend
                        of mozzarella and cheddar cheese, zesty pepperoni slices and a rich tomato sauce. The Pepperoni Pizza you're used to eating but better!</p>

                    <h3>Classic Sausage</h3>
                    <p>It gets topped with loads of spicy sausage, sweet peppers, onions, chili oil, crushed red
                        pepper, and mozzarella cheese. It just may be the best spicy pizza out there!</p>
                </div> -->


            <div>


        </main>

        <form class="displayForm" method="get"></form>

        <div class="details"></div>
        <footer>

            <p>Cheech's Pizza - Located at 123 Walnut Street. Call today!</p>
        </footer>
    </div>

    <script src="./Cheech-s-Pizza-3/js/uikit-icons.js"></script>
    <script src="./Cheech-s-Pizza-3/js/uikit-icons.min.js"></script>
    <script src="./Cheech-s-Pizza-3/js//uikit.js"></script>
    <script src="./Cheech-s-Pizza-3/js/uikit.min.js"></script>
    <!-- <script src="./Cheech-s-Pizza-3/js/pizza.js"></script> -->


    <script>
    
    // The div where all the options will go
var displayForm = document.querySelector(".displayForm");

// Declaring static variables for a return within functions
let typeHolder = 0;
let quanityHolder = 0;
// multidemonsial array of each type and their prices
let types = [
  ['Peperoni', 5.99],
  ['Sausage', 5.99],
  ['Cheese', 4.50],
  ['Meatlover', 10.99],
  ['Crunchaton', 15.95],
  ['Tacomachorizza', 15.95]
];

// Gets the amount of pizzas and puts it in a option dropdown
function displayNums() {
  for (x = 1; x < 11; x++) {
    quanityHolder += "<option value=' " + x + "'>" + x + "</option>"


  }
  return quanityHolder;
}
// Gets the type of pizzas and puts them in a option dropdown
function displayTypes() {
  for (x = 0; x < types.length; x++) {
    typeHolder += "<option class='op' value='" + x + "'>" + types[x][0] + " $" + types[x][1] + "</option>"


  }
  return typeHolder;
}

// Setting subtotal to default selected option
let subtotal = parseFloat([types[0][1]]);
// Setting the total value to the default selected option
let total = parseFloat((types[0][1] * 1) + (types[0][1] * 0.076));
// Missouri tax is 7.6%
let tax = (parseFloat(0.076) * parseFloat(total)).toFixed(2);

// Creation of the form
displayForm.innerHTML += "<label class='nameLabel' for='name'>Name</label><input <?php
if(!empty($_SESSION['username'])){
echo "value=$_SESSION[username] . readonly";
}

?>  type='text' name='name' placeholder='Enter your name' id='names' ></input>"


displayForm.innerHTML += "<label class='emailLabel' for='email'>E-mail</label><input <?php 
if(!empty($_SESSION['email'])){
echo "value=$_SESSION[email] . readonly";
}
?>  type='text' name='email' placeholder='Enter your E-mail' id='email' ></input>"


displayForm.innerHTML += "<b id='typeLabel'>Types</b><select name='typePrice' id='type'>" + displayTypes() + "</select>"

displayForm.innerHTML += "<b id='quanityLabel'>Quantity</b><select name='amount' id='nums'>" + displayNums() + "</select>"

displayForm.innerHTML += "<input id='subtotal' type='text' value='Subtotal:$" + subtotal + "' readonly></input>"

displayForm.innerHTML += "<input id='tax' type='text' value='Tax:$" + tax + "' readonly></input>"

displayForm.innerHTML += "<input id='total' type='text' value='Total:$" + total.toFixed(2) + "' readonly></input>"

displayForm.innerHTML += "<button class='submit' type='button' >Order Now</button>"
// delclaring detail variables
let submit = document.querySelector(".submit");
let details = document.querySelector(".details");
let names = document.querySelector("#names");
let pizzaType = document.querySelector("#type");

let nums = document.querySelector("#nums");
let email = document.querySelector("#email");
submit.addEventListener("click", function () {
  details.style.display = "inline";
  console.log(types[pizzaType.value][1])
  getDetails();
});



// total textbox
let valueT = document.getElementById("total");
let valueTax = document.getElementById("tax");
let valueS = document.getElementById("subtotal");
// calculate total value
function calculateTotal() {

  let price = parseFloat(types[pizzaType.value][1]);
  console.log(price);

  console.log(nums.value);
  subtotal = parseFloat(price) * parseFloat(nums.value); // this would be the subtotal
  console.log("subtotal:" + subtotal);
  tax = subtotal * 0.076;
  console.log(tax);
  total = tax + subtotal;
  console.log(total);
  // This will set the total value to the correct value after you switch any option
  valueS.setAttribute("value", "Subtotal: $" + subtotal.toFixed(2));
  valueTax.setAttribute("value", "Tax: $" + tax.toFixed(2));
  valueT.setAttribute("value", "Total: $" + total.toFixed(2));
}
// This updates the total box without refreshing
let optionChanger = document.querySelectorAll("select");
for (let k = 0; k < optionChanger.length; k++) {
  optionChanger[k].addEventListener("change", calculateTotal);
}



// displayed after submit button is clicked
function getDetails() {
  if (nums.value == 1) {
    details.innerHTML = `<h1 style="text-align: center">Contact Details</h1><br><h3 style='text-align:center'> Thank you for choosing <b>Cheech's <span style="color: darkred;">${types[pizzaType.value][0]}</span> Pizza,</b> <b>${names.value}</b>!<br>  An e-mail has been sent to <b>${email.value}</b> confirming there's <b>${nums.value}</b> pizza on the way!<br>The total will be <i>$${total.toFixed(2)}</i>.</h3>`;
  } else {
    details.innerHTML = `<h1 style="text-align: center">Contact Details</h1><br><h3 style='text-align:center'> Thank you for choosing <b>Cheech's <span style="color: darkred;">${types[pizzaType.value][0]}</span> Pizza,</b> <b>${names.value}</b>!<br>  An e-mail has been sent to <b>${email.value}</b> confirming there's <b>${nums.value}</b> pizzas on the way!<br>The total will be <i>$${total.toFixed(2)}</i>.</h3>`;
  }
}


var sticky = document.querySelector('.sticky');

if (sticky.style.position !== 'sticky') {
  var stickyTop = sticky.offsetTop;

  document.addEventListener('scroll', function () {
    window.scrollY >= stickyTop ?
      sticky.classList.add('fixed') :
      sticky.classList.remove('fixed');
  });
}

    
    </script>
</body>

</html>
